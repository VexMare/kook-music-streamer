🎵 KOOK音乐机器人项目文件说明 🎵
═══════════════════════════════════════════════════════════════

📁 项目目录结构
───────────────────────────────────────────────────────────────

KOOK_Audio/
├── 📂 Main/                           # 主程序目录
│   ├── 🎯 kookvoice_bot.py            # 主机器人程序（已更新）
│   ├── ⚙️ config.py                   # 配置文件
│   ├── 📦 requirements.txt            # Python依赖包
│   ├── 📖 README.md                   # 项目说明文档
│   ├── 📄 LICENSE                     # 开源许可证
│   │
│   ├── 📂 kookvoice/                  # 语音模块目录
│   │   ├── 🎵 kookvoice.py            # 核心语音播放模块
│   │   ├── 🔗 requestor.py            # API请求模块
│   │   └── 📄 __init__.py             # 模块初始化文件
│   │
│   ├── 📂 ffmpeg/                     # FFmpeg工具目录
│   │   ├── 🛠️ bin/                    # FFmpeg可执行文件
│   │   │   ├── 🎬 ffmpeg.exe          # FFmpeg主程序
│   │   │   ├── 🎵 ffplay.exe          # FFmpeg播放器
│   │   │   └── 🔍 ffprobe.exe         # FFmpeg信息查看器
│   │   ├── 📚 doc/                    # FFmpeg文档
│   │   ├── 📁 include/                # FFmpeg头文件
│   │   └── 📁 lib/                    # FFmpeg库文件
│   │
│   ├── 📂 test_files/                 # 测试文件目录
│   │   ├── 🧪 test_original_method.py # 原版方法测试
│   │   ├── 📋 原版播放方法总结.md     # 原版方法总结
│   │   ├── 📋 音频播放修复总结.md     # 音频播放修复总结
│   │   ├── 📋 异步问题修复总结.md     # 异步问题修复总结
│   │   ├── 📋 语音连接修复报告.md     # 语音连接修复报告
│   │   └── 📋 使用说明.md             # 使用说明文档
│   │
│   ├── 📂 docs/                       # 文档目录
│   │   ├── 📋 机器人指令说明.md       # 机器人指令说明
│   │   ├── 📋 配置说明.md             # 配置说明文档
│   │   └── 📋 目录结构说明.md         # 目录结构说明
│   │
│   ├── 📂 backup/                     # 备份目录
│   │   └── 📄 kookvoice_bot_backup.py # 原版程序备份
│   │
│   └── 📄 项目文件说明.txt            # 本文件
│
└── 📂 Kook_Dos/                       # KOOK API文档目录
    ├── 📋 intro.md                    # 介绍文档
    ├── 📋 websocket.md                # WebSocket文档
    ├── 📋 http/                       # HTTP API文档
    └── 📋 event/                      # 事件文档

═══════════════════════════════════════════════════════════════

📋 核心文件详细说明
───────────────────────────────────────────────────────────────

🎯 主程序文件
─────────────

📄 kookvoice_bot.py
├── 功能：主机器人程序
├── 特点：
│   ├── ✅ 使用原版播放方法
│   ├── ✅ 支持网易云音乐搜索
│   ├── ✅ 支持歌单播放
│   ├── ✅ 支持播放控制（跳过、停止等）
│   └── ✅ 完整的错误处理机制
├── 更新内容：
│   ├── 🔄 更新API地址为 mapi.chixiaotao.cn
│   ├── 🛡️ 增强错误处理
│   ├── 🎵 优化歌单处理逻辑
│   └── 📝 改进用户提示信息
└── 启动方式：python kookvoice_bot.py

⚙️ 配置文件
─────────────

📄 config.py
├── 功能：全局配置文件
├── 配置项：
│   ├── 🔑 bot_token：机器人Token
│   ├── 🎬 ffmpeg_path：FFmpeg路径
│   └── 🌐 music_api_base：音乐API地址
└── 说明：修改此文件来配置机器人

🎵 语音模块
─────────────

📂 kookvoice/
├── 📄 kookvoice.py
│   ├── 功能：核心语音播放模块
│   ├── 类：
│   │   ├── Player：播放器类
│   │   └── Status：状态枚举
│   └── 方法：
│       ├── join()：加入语音频道
│       ├── add_music()：添加音乐
│       └── start()：启动播放器
│
├── 📄 requestor.py
│   ├── 功能：KOOK API请求模块
│   ├── 类：VoiceRequestor
│   └── 方法：
│       ├── join()：加入频道
│       ├── leave()：离开频道
│       └── keep_alive()：保活请求
│
└── 📄 __init__.py
    └── 功能：模块初始化文件

🛠️ FFmpeg工具
─────────────

📂 ffmpeg/
├── 🎬 bin/ffmpeg.exe
│   ├── 功能：音频处理工具
│   ├── 用途：音频格式转换和推流
│   └── 支持：Opus编码、RTP推流
│
├── 🎵 bin/ffplay.exe
│   └── 功能：音频播放器
│
└── 🔍 bin/ffprobe.exe
    └── 功能：音频信息查看器

═══════════════════════════════════════════════════════════════

📋 测试文件说明
───────────────────────────────────────────────────────────────

🧪 测试文件
─────────────

📄 test_original_method.py
├── 功能：测试原版播放方法
├── 测试内容：
│   ├── ✅ 模块导入测试
│   ├── ✅ Player类初始化测试
│   ├── ✅ 音乐添加测试
│   └── ✅ 播放列表管理测试
└── 运行方式：python test_files/test_original_method.py

📋 总结文档
─────────────

📄 原版播放方法总结.md
├── 功能：原版播放方法详细说明
├── 内容：
│   ├── 🚨 问题描述
│   ├── 🔍 解决方案
│   ├── 📁 创建的文件
│   ├── 🧪 测试结果
│   └── 🚀 使用方法
└── 用途：了解原版播放方法的实现

📄 音频播放修复总结.md
├── 功能：音频播放问题修复说明
├── 内容：
│   ├── 🚨 问题描述
│   ├── 🔍 问题分析
│   ├── 🛠️ 解决方案
│   └── 🎯 总结
└── 用途：了解音频播放修复过程

═══════════════════════════════════════════════════════════════

📋 文档说明
───────────────────────────────────────────────────────────────

📂 docs/
├── 📄 机器人指令说明.md
│   ├── 功能：机器人指令详细说明
│   ├── 指令：
│   │   ├── /加入：加入语音频道
│   │   ├── /wy：点歌
│   │   ├── /wygd：播放歌单
│   │   ├── /跳过：跳过当前歌曲
│   │   ├── /停止：停止播放
│   │   └── /帮助：查看帮助
│   └── 用途：用户使用指南
│
├── 📄 配置说明.md
│   ├── 功能：配置文件说明
│   ├── 内容：
│   │   ├── config.py 配置项说明
│   │   ├── API配置管理
│   │   └── FFmpeg配置
│   └── 用途：配置指南
│
└── 📄 目录结构说明.md
    ├── 功能：项目目录结构说明
    ├── 内容：
    │   ├── 目录组织原则
    │   ├── 文件分类说明
    │   └── 维护建议
    └── 用途：项目结构指南

═══════════════════════════════════════════════════════════════

🚀 快速开始
───────────────────────────────────────────────────────────────

1️⃣ 环境准备
├── 安装Python 3.7+
├── 安装依赖：pip install -r requirements.txt
└── 配置FFmpeg路径

2️⃣ 配置机器人
├── 编辑 config.py
├── 设置 bot_token
├── 设置 ffmpeg_path
└── 设置 music_api_base

3️⃣ 启动机器人
└── 运行：python kookvoice_bot.py

4️⃣ 使用机器人
├── 加入语音频道：/加入
├── 点歌：/wy 歌名
├── 播放歌单：/wygd 歌单链接
└── 查看帮助：/帮助

═══════════════════════════════════════════════════════════════

🔧 维护说明
───────────────────────────────────────────────────────────────

📁 文件组织原则
├── 📂 Main/：主程序文件
├── 📂 test_files/：测试和修复文件
├── 📂 docs/：用户文档
├── 📂 backup/：备份文件
└── 📂 Kook_Dos/：API文档

🔄 更新流程
├── 1. 在 test_files/ 中测试新功能
├── 2. 确认功能正常后更新主程序
├── 3. 备份原文件到 backup/
├── 4. 更新相关文档
└── 5. 测试验证

📝 注意事项
├── ✅ 保持原版播放架构
├── ✅ 增强错误处理
├── ✅ 优化用户体验
├── ✅ 完善文档说明
└── ✅ 定期备份重要文件

═══════════════════════════════════════════════════════════════

🎉 项目特色
───────────────────────────────────────────────────────────────

✨ 技术特点
├── 🎵 原版播放方法：保持稳定可靠
├── 🌐 新API支持：使用 mapi.chixiaotao.cn
├── 🛡️ 错误处理：完整的异常处理机制
├── 📱 用户友好：清晰的操作提示
└── 🔧 易于维护：模块化设计

🎯 功能特色
├── 🎶 网易云音乐搜索
├── 📀 歌单批量播放
├── ⏭️ 播放控制（跳过、停止）
├── 📊 播放进度显示
└── 🗑️ 播放队列管理

📚 文档完善
├── 📖 详细的使用说明
├── 🔧 配置指南
├── 🧪 测试文档
└── 📋 问题修复记录

═══════════════════════════════════════════════════════════════

📞 技术支持
───────────────────────────────────────────────────────────────

🔗 相关链接
├── 🌟 项目地址：https://github.com/NightmaresNightmares/kook-music-streamer
├── 🎵 抖音：https://www.douyin.com/user/MS4wLjABAAAADKa8egW-VGLmOg0sqjN-9Vf8wFZRfJwPpzVerdVKzlQ4WK_NvSLjSj3tzdUXfq-k
└── 🎬 哔哩哔哩：https://space.bilibili.com/365374856

📧 联系方式
├── 📧 邮箱：项目仓库Issues
├── 💬 讨论：项目仓库Discussions
└── 🐛 问题反馈：项目仓库Issues

═══════════════════════════════════════════════════════════════

📄 文件版本信息
───────────────────────────────────────────────────────────────

📅 创建时间：2025-08-30
👨‍💻 维护者：恶小梦Bot团队
🔄 最后更新：2025-08-30
📋 版本：v2.0.0

🎯 更新内容
├── ✅ 更新API地址
├── ✅ 增强错误处理
├── ✅ 优化歌单处理
├── ✅ 完善文档说明
└── ✅ 美化文件结构

═══════════════════════════════════════════════════════════════

🎵 感谢使用KOOK音乐机器人！ 🎵
═══════════════════════════════════════════════════════════════

